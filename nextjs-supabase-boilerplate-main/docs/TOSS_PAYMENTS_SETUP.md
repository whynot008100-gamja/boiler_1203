# Toss Payments 설정 가이드

## 1. Toss Payments 계정 생성 및 테스트 키 발급

1. [Toss Payments](https://www.toss.im/payments) 접속
2. 회원가입 및 로그인
3. **개발자센터** → **내 서비스** → **서비스 등록**
4. 테스트 모드에서 **클라이언트 키** 발급

## 2. 환경 변수 설정

`.env.local` 파일에 다음 환경 변수를 추가하세요:

```env
# Toss Payments (테스트 모드)
NEXT_PUBLIC_TOSS_PAYMENTS_CLIENT_KEY=test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq
```

> **참고**: 위의 키는 예시입니다. 실제 Toss Payments 대시보드에서 발급받은 키를 사용하세요.

## 3. 프로덕션 배포 시

프로덕션 환경에서는:

1. Toss Payments 대시보드에서 **프로덕션 키** 발급
2. Vercel 환경 변수에 `NEXT_PUBLIC_TOSS_PAYMENTS_CLIENT_KEY` 추가
3. 테스트 키를 프로덕션 키로 교체

## 4. 테스트 결제 방법

### 테스트 카드 정보

Toss Payments 테스트 모드에서는 다음 카드 정보를 사용할 수 있습니다:

- **카드번호**: 1234-5678-9012-3456
- **유효기간**: 12/34
- **CVC**: 123
- **비밀번호**: 12

### 테스트 시나리오

1. 상품을 장바구니에 추가
2. 주문하기 클릭
3. 배송지 정보 입력 후 주문 생성
4. 결제 페이지에서 테스트 카드 정보 입력
5. 결제 완료 후 주문 상태가 `confirmed`로 변경됨

## 5. 주의사항

- **테스트 모드**: 현재는 테스트 모드로만 운영됩니다
- **실제 결제**: 프로덕션 환경에서는 실제 결제가 발생하므로 주의하세요
- **환경 변수**: 클라이언트 키는 공개되어도 되지만, 서버 키는 절대 공개하지 마세요

## 6. 결제 플로우

```
1. 장바구니 → 주문하기
2. 배송지 입력 → 주문 생성 (status: pending)
3. 결제 페이지로 이동
4. Toss Payments 위젯에서 결제 진행
5. 결제 성공 → 주문 상태 업데이트 (status: confirmed)
6. 주문 완료 페이지 표시
```

